<!-- mobile -->
<div *ngIf="user" fxHide.gt-sm="true" fxHide.sm="true" class="mobile-div">
  <mat-card class="mobile-card">
    <mat-accordion>
      <mat-expansion-panel class="profile-panel">
        <mat-expansion-panel-header>
          <mat-panel-title class="title">
            Your profile - {{user.center ? 'Center' : 'Donor'}}
          </mat-panel-title>
        </mat-expansion-panel-header>
          <mat-card-content>
            <div class="flow-text">
              <p>Email: {{user.email}}</p>
              <p>PIN: {{user.id}}</p>
              <p>Name: {{user.name}}</p>
              <p>Surname: {{user.surname}}</p>
              <p *ngIf="!user.center">Father initial: {{user.fatherInitial}}</p>
              <p>Phone: {{user.phone}}</p>
              <p>Fax: {{user.fax}}</p>
            </div>
            <div class="flow-text">
              <mat-card-title class="title">Address</mat-card-title>
              <p>Street: {{user.street}}</p>
              <p>Number: {{user.streetNumber}}</p>
              <p>Building: {{user.building}}</p>
              <p>Block: {{user.block}}</p>
              <p>Appartment: {{user.appartment}}</p>
              <p>City: {{user.city}}</p>
              <p>County: {{user.county}}</p>
              <p>Country: {{user.country}}</p>
              <p>Postal code: {{user.postalCode}}</p>
            </div>
            <div *ngIf="user.center" class="flow-text">
              <mat-card-title>Center details</mat-card-title>
              <p>Name: {{user.centerName}}</p>
              <p>IBAN: {{user.iban}}</p>
              <p>Fiscal code: {{user.fic}}</p>
            </div>
          </mat-card-content>
      </mat-expansion-panel>
    </mat-accordion>
    <mat-card-title class="actions">Actions</mat-card-title>
    <mat-card-actions>
      <button class="mobile-button" mat-raised-button (click)="edit()" color="primary">Edit Profile</button>    
    </mat-card-actions>    
    <mat-card-actions *ngIf="!user.center">
      <button class="mobile-button" mat-raised-button (click)="donate()" color="warn">Donate</button>    
    </mat-card-actions>    
    <mat-card-actions *ngIf="user.center">
      <button class="mobile-button" mat-raised-button (click)="addReceivedDonation()" color="primary">Add a received donation</button>   
    </mat-card-actions>
    <mat-card-actions *ngIf="user.center">   
      <button class="mobile-button" mat-raised-button (click)="createRequest()" color="primary">Add a request</button>    
    </mat-card-actions>
    <mat-accordion *ngIf="user.center && requests && requests.length">
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
          Your requests
          </mat-panel-title>
        </mat-expansion-panel-header>        
          <mat-list>
          <div *ngFor="let request of requests">
            <div *ngFor="let item of request.items">   
              <hr>         
              <mat-list-item>Category: {{item.category.toUpperCase()}}</mat-list-item>
              <mat-list-item *ngIf="item.description">Description: {{item.description}}</mat-list-item>
              <mat-list-item *ngIf="item.sum">Amount: {{item.sum}} RON</mat-list-item>
              <mat-list-item *ngIf="item.name">Name: {{item.name}}</mat-list-item>
              <mat-list-item *ngIf="item.size">Size: {{item.size}}</mat-list-item>
              <mat-list-item *ngIf="item.sex">Sex: {{item.sex}}</mat-list-item>
              <mat-list-item *ngIf="item.type">Type: {{item.type}}</mat-list-item>
            </div>
          </div>
        </mat-list>
      </mat-expansion-panel>
    </mat-accordion>
    <div *ngIf="user.center && donations && donations.length"> 
      <mat-card-title>Your {{user.center ? 'received' : ''}} donations</mat-card-title>
      <mat-accordion>
        <mat-expansion-panel *ngFor="let donation of donations">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Date: {{donation.date | date : "dd.MM.yyyy"}}
            </mat-panel-title>
            <mat-panel-description>
              {{donation.destination}}
            </mat-panel-description>
          </mat-expansion-panel-header>
          <mat-list *ngFor="let item of donation.items">
            <hr>         
            <mat-list-item>Category: {{item.category.toUpperCase()}}</mat-list-item>
            <mat-list-item *ngIf="item.description">Description: {{item.description}}</mat-list-item>
            <mat-list-item *ngIf="item.sum">Amount: {{item.sum}} RON</mat-list-item>
            <mat-list-item *ngIf="item.name">Name: {{item.name}}</mat-list-item>
            <mat-list-item *ngIf="item.size">Size: {{item.size}}</mat-list-item>
            <mat-list-item *ngIf="item.sex">Sex: {{item.sex}}</mat-list-item>
            <mat-list-item *ngIf="item.type">Type: {{item.type}}</mat-list-item>
          </mat-list>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </mat-card>
</div>

<!-- desktop -->
<div *ngIf="user" fxHide.lt-sm="true">
    <mat-card>
      <mat-card-header>
        <mat-card-title class="title">Your profile - {{user.center ? 'Center' : 'Donor'}}</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="flow-text">
          <p>Email: {{user.email}}</p>
          <p>PIN: {{user.id}}</p>
          <p>Name: {{user.name}}</p>
          <p>Surname: {{user.surname}}</p>
          <p *ngIf="!user.center">Father initial: {{user.fatherInitial}}</p>
          <p>Phone: {{user.phone}}</p>
          <p>Fax: {{user.fax}}</p>
        </div>
        <div class="flow-text">
          <mat-card-title>Address</mat-card-title>
          <p>Street: {{user.street}}</p>
          <p>Number: {{user.streetNumber}}</p>
          <p>Building: {{user.building}}</p>
          <p>Block: {{user.block}}</p>
          <p>Appartment: {{user.appartment}}</p>
          <p>City: {{user.city}}</p>
          <p>County: {{user.county}}</p>
          <p>Country: {{user.country}}</p>
          <p>Postal code: {{user.postalCode}}</p>
        </div>
        <div *ngIf="user.center" class="flow-text">
          <mat-card-title>Center details</mat-card-title>
          <p>Name: {{user.centerName}}</p>
          <p>IBAN: {{user.iban}}</p>
          <p>Fiscal code: {{user.fic}}</p>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button (click)="edit()" color="primary">Edit</button>    
      </mat-card-actions>    
      <mat-card-actions *ngIf="!user.center">
        <button mat-raised-button (click)="donate()" color="primary">Donate</button>    
      </mat-card-actions>    
      <mat-card-actions *ngIf="user.center">
        <button mat-raised-button (click)="addReceivedDonation()" color="primary">Add a received donation</button>   
      </mat-card-actions>
      <mat-card-actions *ngIf="user.center">   
        <button mat-raised-button (click)="createRequest()" color="primary">Add a request</button>    
      </mat-card-actions>
      <div *ngIf="user.center && requests && requests.length">
        <mat-card-title>Your requests</mat-card-title>
        <mat-accordion>
          <mat-expansion-panel *ngFor="let request of requests">
            <mat-expansion-panel-header>
              <mat-panel-title>
                Show items
              </mat-panel-title>
            </mat-expansion-panel-header>
            <mat-list *ngFor="let item of request.items">
              <mat-list-item>Category: {{item.category.toUpperCase()}}</mat-list-item>
              <mat-list-item *ngIf="item.description">Description: {{item.description}}</mat-list-item>
              <mat-list-item *ngIf="item.sum">Amount: {{item.sum}} RON</mat-list-item>
              <mat-list-item *ngIf="item.name">Name: {{item.name}}</mat-list-item>
              <mat-list-item *ngIf="item.size">Size: {{item.size}}</mat-list-item>
              <mat-list-item *ngIf="item.sex">Sex: {{item.sex}}</mat-list-item>
              <mat-list-item *ngIf="item.type">Type: {{item.type}}</mat-list-item>
            </mat-list>
          </mat-expansion-panel>
        </mat-accordion>
      </div>
      <div *ngIf="user.center && donations && donations.length"> 
        <mat-card-title>Your {{user.center ? 'received' : ''}} donations</mat-card-title>
        <mat-accordion>
          <mat-expansion-panel *ngFor="let donation of donations">
            <mat-expansion-panel-header>
              <mat-panel-title>
                Data: {{donation.date | date : "dd.MM.yyyy"}}
              </mat-panel-title>
              <mat-panel-description>
                {{donation.destination}}
              </mat-panel-description>
            </mat-expansion-panel-header>
            <mat-list *ngFor="let item of donation.items">
              <mat-list-item>Category: {{item.category.toUpperCase()}}</mat-list-item>
              <mat-list-item *ngIf="item.description">Description: {{item.description}}</mat-list-item>
              <mat-list-item *ngIf="item.sum">Amount: {{item.sum}} RON</mat-list-item>
              <mat-list-item *ngIf="item.name">Name: {{item.name}}</mat-list-item>
              <mat-list-item *ngIf="item.size">Size: {{item.size}}</mat-list-item>
              <mat-list-item *ngIf="item.sex">Sex: {{item.sex}}</mat-list-item>
              <mat-list-item *ngIf="item.type">Type: {{item.type}}</mat-list-item>
            </mat-list>
          </mat-expansion-panel>
        </mat-accordion>
      </div>
    </mat-card>
  </div>